import{b as A,d as L,e as N,g as T,i as z,j as B,r as D,s as H,u as I}from"./chunk-QZFKTEUQ.js";import{a as W,c as Z}from"./chunk-Y4OXXLJ5.js";import"./chunk-DUKSTT3K.js";import{i as j}from"./chunk-U5M4MCHP.js";import{m as V}from"./chunk-KN5TDDFY.js";import{g as G,i as R}from"./chunk-QA474ISG.js";import{Ab as n,Gb as P,Kb as M,Pb as C,Ra as g,Tb as a,V as x,Xb as E,Yb as F,Zb as _,_ as d,ea as u,fa as p,ga as m,gb as v,ha as h,rb as b,sa as y,sb as S,v as w,xb as k,yb as e,zb as t}from"./chunk-QAY2GC3V.js";import"./chunk-7CGTOI24.js";var c=class i extends G{resetPassword(r){return this.post(R.forgetPassword,{email:r})}static \u0275fac=(()=>{let r;return function(o){return(r||(r=y(i)))(o||i)}})();static \u0275prov=x({token:i,factory:i.\u0275fac,providedIn:"root"})};function J(i,r){i&1&&(m(),e(0,"svg",23),n(1,"circle",24)(2,"path",25),t(),a(3," Sending email... "))}function K(i,r){i&1&&(m(),e(0,"svg",26),n(1,"path",27),t(),a(2," Reset Your Password "))}var q=class i{forgetPasswordService=d(c);toastr=d(W);router=d(j);email;isLoading=!1;successMessage;errorMessage;resetPassword(){if(this.isLoading=!0,!this.email||!this.isValidEmail(this.email)){this.toastr.error("Please enter a valid email address"),this.isLoading=!1;return}this.forgetPasswordService.resetPassword(this.email).subscribe({next:r=>{this.successMessage=r.message,this.toastr.success(this.successMessage),w(3e3).subscribe(()=>{this.router.navigate(["/signin"])})},error:r=>{this.errorMessage=r.message,this.toastr.error(this.errorMessage),this.isLoading=!1},complete:()=>{this.isLoading=!1}})}isValidEmail(r){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)}static \u0275fac=function(s){return new(s||i)};static \u0275cmp=v({type:i,selectors:[["app-forget-password"]],decls:35,vars:3,consts:[["forgetPasswordForm","ngForm"],[1,"min-h-screen","bg-gradient-to-br","from-green-50","via-white","to-blue-50","dark-from-gray-900","dark-via-gray-800","dark-to-gray-900","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"mx-auto","h-16","w-16","bg-green-100","dark-bg-green-900/20","rounded-full","flex","items-center","justify-center","mb-6","shadow-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-green-600","dark-text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-3xl","font-bold","text-gray-900","dark-text-white","mb-2"],[1,"text-gray-600","dark-text-gray-400"],[1,"bg-white","dark-bg-gray-800","rounded-2xl","shadow-2xl","border","border-gray-200","dark-border-gray-700","p-8","space-y-6"],[3,"ngSubmit"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark-text-white"],[1,"text-red-500"],["type","email","name","email","required","","email","","placeholder","Enter your email address",1,"w-full","p-2","mb-5","rounded-md","border","border-gray-300","dark-border-gray-600","focus:ring-2","focus:ring-green-500","focus:border-green-500",3,"ngModelChange","ngModel"],[1,"relative","mb-5"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300","dark-border-gray-600"],[1,"relative","flex","bg","justify-center","text-sm"],["type","submit",1,"w-full","flex","justify-center","items-center","px-4","py-3","border","border-transparent","text-sm","font-medium","rounded-lg","text-white","bg-green-600","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","duration-200","transform","hover:scale-[1.02]","active:scale-[0.98]",3,"disabled"],[1,"text-center","space-y-4"],[1,"flex","justify-center","space-x-6","text-sm"],["href","#",1,"text-gray-500","dark-text-gray-400","hover:text-gray-700","dark-hover:text-gray-300","transition-colors","duration-200"],[1,"text-xs","text-gray-400","dark-text-gray-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"]],template:function(s,o){if(s&1){let l=P();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),m(),e(4,"svg",5),n(5,"path",6),t()(),h(),e(6,"h2",7),a(7," Oh No!!! "),t(),e(8,"p",8),a(9," Did you forget your password? "),t()(),e(10,"div",9)(11,"form",10,0),M("ngSubmit",function(){return u(l),p(o.resetPassword())}),e(13,"label",11),a(14," Email Address "),e(15,"span",12),a(16,"*"),t()(),e(17,"input",13),_("ngModelChange",function(f){return u(l),F(o.email,f)||(o.email=f),p(f)}),t(),e(18,"div",14)(19,"div",15),n(20,"div",16),t(),n(21,"div",17),t(),e(22,"button",18),b(23,J,4,0)(24,K,3,0),t()()(),e(25,"div",19)(26,"div",20)(27,"a",21),a(28," Privacy Policy "),t(),e(29,"a",21),a(30," Terms of Service "),t(),e(31,"a",21),a(32," Help Center "),t()(),e(33,"p",22),a(34," \xA9 2024 FreshCart. All rights reserved. "),t()()()()}if(s&2){let l=C(12);g(17),E("ngModel",o.email),g(5),k("disabled",o.isLoading||!l.form.valid),g(),S(o.isLoading?23:24)}},dependencies:[V,Z,I,B,A,L,N,D,H,z,T],encapsulation:2})};export{q as ForgetPassword};
