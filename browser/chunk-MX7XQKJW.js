import{a as ne}from"./chunk-ZDQP24ZT.js";import{b as K,c as p,d as O,e as Q,f as W,h as _,j as X,l as Y,m as ee,v as te}from"./chunk-QZFKTEUQ.js";import{i as J,j as U}from"./chunk-U5M4MCHP.js";import{k as Z,m as $}from"./chunk-KN5TDDFY.js";import"./chunk-QA474ISG.js";import{Ab as u,E as D,Kb as B,Lb as h,Ra as a,Rb as f,Tb as l,Ub as G,Vb as q,_ as A,ec as R,fc as I,ga as g,gb as z,ha as c,rb as d,sb as m,w as j,xb as N,yb as r,zb as i}from"./chunk-QAY2GC3V.js";import"./chunk-7CGTOI24.js";function ae(n,o){n&1&&l(0," Name is required ")}function le(n,o){n&1&&l(0," Name must be at least 2 characters long ")}function se(n,o){if(n&1&&(r(0,"p",8),d(1,ae,1,0),d(2,le,1,0),i()),n&2){let t,e,s=h();a(),m(!((t=s.signupForm.get("name"))==null||t.errors==null)&&t.errors.required?1:-1),a(),m(!((e=s.signupForm.get("name"))==null||e.errors==null)&&e.errors.minlength?2:-1)}}function de(n,o){n&1&&l(0," Email is required ")}function me(n,o){n&1&&l(0," Please enter a valid email address ")}function ue(n,o){if(n&1&&(r(0,"p",8),d(1,de,1,0),d(2,me,1,0),i()),n&2){let t,e,s=h();a(),m(!((t=s.signupForm.get("email"))==null||t.errors==null)&&t.errors.required?1:-1),a(),m(!((e=s.signupForm.get("email"))==null||e.errors==null)&&e.errors.email?2:-1)}}function pe(n,o){n&1&&l(0," Phone number is required ")}function ge(n,o){n&1&&l(0," Please enter a valid phone number ")}function ce(n,o){if(n&1&&(r(0,"p",8),d(1,pe,1,0),d(2,ge,1,0),i()),n&2){let t,e,s=h();a(),m(!((t=s.signupForm.get("phone"))==null||t.errors==null)&&t.errors.required?1:-1),a(),m(!((e=s.signupForm.get("phone"))==null||e.errors==null)&&e.errors.pattern?2:-1)}}function fe(n,o){if(n&1&&(r(0,"div",18)(1,"div",25),u(2,"div",26)(3,"div",26)(4,"div",26),i(),r(5,"p",27),l(6),R(7,"titlecase"),i()()),n&2){let t=h();a(2),f("bg-red-500",t.getPasswordStrength()==="weak")("bg-yellow-500",t.getPasswordStrength()==="medium")("bg-green-500",t.getPasswordStrength()==="strong")("bg-gray-200",t.getPasswordStrength()==="weak"),a(),f("bg-yellow-500",t.getPasswordStrength()==="medium")("bg-green-500",t.getPasswordStrength()==="strong")("bg-gray-200",t.getPasswordStrength()!=="strong"),a(),f("bg-green-500",t.getPasswordStrength()==="strong")("bg-gray-200",t.getPasswordStrength()!=="strong"),a(),f("text-red-600",t.getPasswordStrength()==="weak")("text-yellow-600",t.getPasswordStrength()==="medium")("text-green-600",t.getPasswordStrength()==="strong"),a(),q(" Password strength: ",I(7,25,t.getPasswordStrength())," ")}}function he(n,o){n&1&&l(0," Password is required ")}function ve(n,o){n&1&&l(0," Password must be at least 8 characters long ")}function _e(n,o){n&1&&l(0," Password must contain at least one uppercase letter, one lowercase letter, and one number ")}function xe(n,o){if(n&1&&(r(0,"p",8),d(1,he,1,0),d(2,ve,1,0),d(3,_e,1,0),i()),n&2){let t,e,s,v=h();a(),m(!((t=v.signupForm.get("password"))==null||t.errors==null)&&t.errors.required?1:-1),a(),m(!((e=v.signupForm.get("password"))==null||e.errors==null)&&e.errors.minlength?2:-1),a(),m(!((s=v.signupForm.get("password"))==null||s.errors==null)&&s.errors.pattern?3:-1)}}function be(n,o){n&1&&l(0," Please confirm your password ")}function we(n,o){n&1&&l(0," Passwords do not match ")}function Se(n,o){if(n&1&&(r(0,"p",8),d(1,be,1,0),d(2,we,1,0),i()),n&2){let t,e,s=h();a(),m(!((t=s.signupForm.get("rePassword"))==null||t.errors==null)&&t.errors.required?1:-1),a(),m(!((e=s.signupForm.get("rePassword"))==null||e.errors==null)&&e.errors.passwordMismatch?2:-1)}}function ye(n,o){n&1&&(g(),r(0,"svg",28),u(1,"circle",29)(2,"path",30),i(),l(3," Creating Account... "))}function Ce(n,o){n&1&&(g(),r(0,"svg",31),u(1,"path",32),i(),l(2," Create Account "))}function Fe(n,o){if(n&1&&(r(0,"div",23)(1,"div",33)(2,"div",34),g(),r(3,"svg",35),u(4,"path",36),i()(),c(),r(5,"div",37)(6,"p",38),l(7),i()()()()),n&2){let t=h();a(7),G(t.errorMessage)}}function ke(n,o){if(n&1&&(r(0,"div",24)(1,"div",33)(2,"div",34),g(),r(3,"svg",39),u(4,"path",40),i()(),c(),r(5,"div",37)(6,"p",41),l(7),i(),r(8,"p",42),l(9),i()()()()),n&2){let t=h();a(7),G(t.successMessage),a(2),q(" Redirecting to login page in ",t.timer," seconds... ")}}var V=class n{authService=A(ne);router=A(J);timer=5;isLoading=!1;errorMessage;successMessage;signupForm=new W({name:new _("",[p.required,p.minLength(2),p.pattern(/^[a-zA-Z\s]+$/)]),email:new _("",[p.required,p.email,p.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]),password:new _("",[p.required,p.minLength(8),p.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/)]),rePassword:new _("",[p.required]),phone:new _("",[p.required,p.pattern(/^(?:\+20|0)1[0125][0-9]{8}$/)])},{validators:this.passwordMatchValidator});passwordMatchValidator(o){let t=o.get("password"),e=o.get("rePassword");return t&&e&&t.value!==e.value?(e.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):(e?.hasError("passwordMismatch")&&e.setErrors(null),null)}getPasswordStrength(){let o=this.signupForm.get("password")?.value||"";if(o.length<6)return"weak";let t=0;return o.length>=8&&t++,/[a-z]/.test(o)&&t++,/[A-Z]/.test(o)&&t++,/\d/.test(o)&&t++,/[!@#$%^&*(),.?":{}|<>]/.test(o)&&t++,t<3?"weak":t<5?"medium":"strong"}onSubmit(){if(this.handlebeforeSubmit(),this.signupForm.valid){let o={name:this.signupForm.get("name")?.value,email:this.signupForm.get("email")?.value,password:this.signupForm.get("password")?.value,rePassword:this.signupForm.get("rePassword")?.value,phone:this.signupForm.get("phone")?.value};this.authService.registerUser(o).subscribe({next:t=>{this.handleSuccessMessage()},error:t=>{this.handleErrorMessage()},complete:()=>{this.handleResetForm(),this.isLoading=!1}})}else this.isLoading=!1,this.signupForm.markAllAsTouched()}handlebeforeSubmit(){this.isLoading=!0,this.errorMessage="",this.successMessage="",this.signupForm.markAllAsTouched()}handleSuccessMessage(){this.successMessage=" Successfully registered  ",j(1e3).pipe(D(5)).subscribe(()=>{this.timer--,this.timer===0&&this.router.navigate(["/auth/signin"])})}handleErrorMessage(){this.errorMessage=" Error registering user, please try again... ",this.isLoading=!1}handleResetForm(){this.signupForm.reset()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=z({type:n,selectors:[["app-signup-form"]],decls:62,vars:31,consts:[[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark-text-white"],[1,"text-red-500"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["type","text","formControlName","name","name","name","id","name","placeholder","Enter your full name",1,"pl-10","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark-bg-gray-600","dark-border-gray-500","dark-placeholder-gray-400","dark-text-white","transition-colors","duration-200"],[1,"mt-1","text-sm","text-red-600","dark-text-red-400"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark-text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"],["type","email","formControlName","email","name","email","id","email","placeholder","Enter your email address",1,"pl-10","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark-bg-gray-600","dark-border-gray-500","dark-placeholder-gray-400","dark-text-white","transition-colors","duration-200"],["for","phone",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark-text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["type","tel","formControlName","phone","name","phone","id","phone","placeholder","Enter your phone number",1,"pl-10","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark-bg-gray-600","dark-border-gray-500","dark-placeholder-gray-400","dark-text-white","transition-colors","duration-200"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark-text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["type","password","formControlName","password","name","password","id","password","placeholder","Create a strong password",1,"pl-10","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark-bg-gray-600","dark-border-gray-500","dark-placeholder-gray-400","dark-text-white","transition-colors","duration-200"],[1,"mt-2"],["for","rePassword",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark-text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["type","password","formControlName","rePassword","name","rePassword","id","rePassword","placeholder","Confirm your password",1,"pl-10","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark-bg-gray-600","dark-border-gray-500","dark-placeholder-gray-400","dark-text-white","transition-colors","duration-200"],["type","submit",1,"w-full","flex","justify-center","items-center","px-4","py-3","border","border-transparent","text-sm","font-medium","rounded-lg","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","duration-200","transform","hover:scale-[1.02]","active:scale-[0.98]",3,"disabled"],[1,"bg-red-50","dark-bg-red-900/20","border","border-red-200","dark-border-red-800","rounded-lg","p-4"],[1,"bg-green-50","dark-bg-green-900/20","border","border-green-200","dark-border-green-800","rounded-lg","p-4"],[1,"flex","space-x-1"],[1,"h-1","w-full","rounded-full"],[1,"mt-1","text-xs"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-red-800","dark-text-red-200"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-green-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","text-green-800","dark-text-green-200"],[1,"text-sm","text-green-600","dark-text-green-300","mt-1"]],template:function(t,e){if(t&1&&(r(0,"form",0),B("ngSubmit",function(){return e.onSubmit()}),r(1,"div")(2,"label",1),l(3," Full Name "),r(4,"span",2),l(5,"*"),i()(),r(6,"div",3)(7,"div",4),g(),r(8,"svg",5),u(9,"path",6),i()(),c(),u(10,"input",7),i(),d(11,se,3,2,"p",8),i(),r(12,"div")(13,"label",9),l(14," Email Address "),r(15,"span",2),l(16,"*"),i()(),r(17,"div",3)(18,"div",4),g(),r(19,"svg",5),u(20,"path",10),i()(),c(),u(21,"input",11),i(),d(22,ue,3,2,"p",8),i(),r(23,"div")(24,"label",12),l(25," Phone Number "),r(26,"span",2),l(27,"*"),i()(),r(28,"div",3)(29,"div",4),g(),r(30,"svg",5),u(31,"path",13),i()(),c(),u(32,"input",14),i(),d(33,ce,3,2,"p",8),i(),r(34,"div")(35,"label",15),l(36," Password "),r(37,"span",2),l(38,"*"),i()(),r(39,"div",3)(40,"div",4),g(),r(41,"svg",5),u(42,"path",16),i()(),c(),u(43,"input",17),i(),d(44,fe,8,27,"div",18),d(45,xe,4,3,"p",8),i(),r(46,"div")(47,"label",19),l(48," Confirm Password "),r(49,"span",2),l(50,"*"),i()(),r(51,"div",3)(52,"div",4),g(),r(53,"svg",5),u(54,"path",20),i()(),c(),u(55,"input",21),i(),d(56,Se,3,2,"p",8),i(),r(57,"button",22),d(58,ye,4,0)(59,Ce,3,0),i(),d(60,Fe,8,1,"div",23),d(61,ke,10,2,"div",24),i()),t&2){let s,v,x,b,w,S,y,C,F,k,P,H,E,M,T,L;N("formGroup",e.signupForm),a(10),f("border-red-500",((s=e.signupForm.get("name"))==null?null:s.invalid)&&((s=e.signupForm.get("name"))==null?null:s.touched))("border-green-500",((v=e.signupForm.get("name"))==null?null:v.valid)&&((v=e.signupForm.get("name"))==null?null:v.touched)),a(),m((x=e.signupForm.get("name"))!=null&&x.invalid&&((x=e.signupForm.get("name"))!=null&&x.touched)?11:-1),a(10),f("border-red-500",((b=e.signupForm.get("email"))==null?null:b.invalid)&&((b=e.signupForm.get("email"))==null?null:b.touched))("border-green-500",((w=e.signupForm.get("email"))==null?null:w.valid)&&((w=e.signupForm.get("email"))==null?null:w.touched)),a(),m((S=e.signupForm.get("email"))!=null&&S.invalid&&((S=e.signupForm.get("email"))!=null&&S.touched)?22:-1),a(10),f("border-red-500",((y=e.signupForm.get("phone"))==null?null:y.invalid)&&((y=e.signupForm.get("phone"))==null?null:y.touched))("border-green-500",((C=e.signupForm.get("phone"))==null?null:C.valid)&&((C=e.signupForm.get("phone"))==null?null:C.touched)),a(),m((F=e.signupForm.get("phone"))!=null&&F.invalid&&((F=e.signupForm.get("phone"))!=null&&F.touched)?33:-1),a(10),f("border-red-500",((k=e.signupForm.get("password"))==null?null:k.invalid)&&((k=e.signupForm.get("password"))==null?null:k.touched))("border-green-500",((P=e.signupForm.get("password"))==null?null:P.valid)&&((P=e.signupForm.get("password"))==null?null:P.touched)),a(),m((H=e.signupForm.get("password"))!=null&&H.value?44:-1),a(),m((E=e.signupForm.get("password"))!=null&&E.invalid&&((E=e.signupForm.get("password"))!=null&&E.touched)?45:-1),a(10),f("border-red-500",((M=e.signupForm.get("rePassword"))==null?null:M.invalid)&&((M=e.signupForm.get("rePassword"))==null?null:M.touched))("border-green-500",((T=e.signupForm.get("rePassword"))==null?null:T.valid)&&((T=e.signupForm.get("rePassword"))==null?null:T.touched)),a(),m((L=e.signupForm.get("rePassword"))!=null&&L.invalid&&((L=e.signupForm.get("rePassword"))!=null&&L.touched)?56:-1),a(),N("disabled",e.isLoading||e.signupForm.invalid),a(),m(e.isLoading?58:59),a(2),m(e.errorMessage?60:-1),a(),m(e.successMessage?61:-1)}},dependencies:[te,X,K,O,Q,Y,ee,$,Z],encapsulation:2})};var re=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=z({type:n,selectors:[["app-signup"]],decls:20,vars:0,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","to-indigo-100","dark-from-gray-900","dark-to-gray-800","flex","justify-center","items-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"w-full","max-w-md"],[1,"text-center","mb-8"],[1,"mx-auto","h-12","w-12","bg-blue-600","rounded-full","flex","items-center","justify-center","mb-4"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-3xl","font-bold","text-gray-900","dark-text-white"],[1,"mt-2","text-sm","text-gray-600","dark-text-gray-400"],[1,"bg-white","dark-bg-gray-800","shadow-2xl","rounded-2xl","p-8","border","border-gray-200","dark-border-gray-700"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-600","dark-text-gray-400"],["routerLink","/auth/signin",1,"font-medium","text-blue-600","hover:text-blue-500","dark-text-blue-400","dark-hover:text-blue-300","transition-colors","duration-200"],[1,"mt-8","text-center"],[1,"text-xs","text-gray-500","dark-text-gray-400"]],template:function(t,e){t&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),g(),r(4,"svg",4),u(5,"path",5),i()(),c(),r(6,"h2",6),l(7,"Create your account"),i(),r(8,"p",7),l(9," Join our platform and start your journey "),i()(),r(10,"div",8),u(11,"app-signup-form"),r(12,"div",9)(13,"p",10),l(14," Already have an account? "),r(15,"a",11),l(16," Sign in here "),i()()()(),r(17,"div",12)(18,"p",13),l(19," By signing up, you agree to our Terms of Service and Privacy Policy "),i()()()())},dependencies:[V,U],encapsulation:2})};export{re as Signup};
