import{b as Q,d as G,i as U,n as $,o as W,p as q,u as Z}from"./chunk-QZFKTEUQ.js";import{a as X}from"./chunk-GUHJ6UBK.js";import{a as Y}from"./chunk-EVGXN4XB.js";import{a as J}from"./chunk-TQUIZIP3.js";import"./chunk-X4KS6FTY.js";import"./chunk-QK46CZQ6.js";import"./chunk-6GCZYUDH.js";import"./chunk-Y4OXXLJ5.js";import"./chunk-DUKSTT3K.js";import"./chunk-U5M4MCHP.js";import{m as w}from"./chunk-KN5TDDFY.js";import"./chunk-QA474ISG.js";import{Ab as u,C as N,G as A,Gb as f,Kb as m,Lb as s,Ra as c,Rb as y,Sb as M,Tb as d,Vb as v,W as F,Wa as O,Wb as P,Xb as T,Yb as V,Zb as E,_ as z,ea as g,f as B,fa as p,ga as x,gb as S,ha as b,hb as R,rb as _,sb as h,ub as j,vb as I,wb as L,xb as C,yb as a,zb as o}from"./chunk-QAY2GC3V.js";import"./chunk-7CGTOI24.js";var H=class{constructor(){this.change=new O,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return t.id==null&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let n=this.instances[t],r=Math.ceil(n.totalItems/n.itemsPerPage);e<=r&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},Oe=Number.MAX_SAFE_INTEGER;var K=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=R({type:i}),i.\u0275inj=F({providers:[H],imports:[[w]]}),i})();var ie=(i,t)=>t._id;function ne(i,t){i&1&&u(0,"app-loading-spinner",0),i&2&&C("overlay",!0)("showMessage",!0)}function re(i,t){if(i&1){let e=f();a(0,"button",38),m("click",function(){g(e);let r=s(2);return p(r.clearSearch())}),x(),a(1,"svg",27),u(2,"path",39),o()()}}function ae(i,t){if(i&1){let e=f();a(0,"span",40),d(1),a(2,"button",42),m("click",function(){g(e);let r=s(3);return p(r.clearSearch())}),x(),a(3,"svg",43),u(4,"path",39),o()()()}if(i&2){let e=s(3);c(),v(' Search: "',e.searchQuery,'" ')}}function oe(i,t){if(i&1){let e=f();a(0,"span",41),d(1),a(2,"button",44),m("click",function(){g(e);let r=s(3);return p(r.clearSort())}),x(),a(3,"svg",43),u(4,"path",39),o()()()}if(i&2){let e=s(3);c(),v(" Sort: ",e.getSortLabel(e.sortBy)," ")}}function se(i,t){if(i&1&&(a(0,"div",30),_(1,ae,5,1,"span",40),_(2,oe,5,1,"span",41),o()),i&2){let e=s(2);c(),h(e.searchQuery?1:-1),c(),h(e.sortBy?2:-1)}}function le(i,t){if(i&1&&d(0),i&2){let e=s(2);P(" Showing ",e.filteredProducts.length,' results for "',e.searchQuery,'" ')}}function ce(i,t){if(i&1&&d(0),i&2){let e=s(2);P(" Showing ",e.products.length," of ",e.totalItems," products ")}}function de(i,t){i&1&&(a(0,"div",34),u(1,"app-loading-spinner"),o())}function ge(i,t){if(i&1){let e=f();a(0,"div",35),x(),a(1,"svg",45),u(2,"path",46),o(),b(),a(3,"h3",47),d(4,"No products found"),o(),a(5,"p",48),d(6,"Try adjusting your search or filter criteria"),o(),a(7,"button",49),m("click",function(){g(e);let r=s(2);return p(r.clearSearch())}),d(8," Clear Search "),o()()}}function pe(i,t){if(i&1&&u(0,"app-card",50),i&2){let e=t.$implicit,n=s(3);C("product",e)("viewMode",n.viewMode)}}function ue(i,t){if(i&1&&(a(0,"div"),I(1,pe,1,2,"app-card",50,ie),o()),i&2){let e=s(2);M(e.viewMode==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4"),c(),L(e.filteredProducts)}}function me(i,t){if(i&1){let e=f();a(0,"button",57),m("click",function(){let r=g(e).$implicit,l=s(3);return p(l.goToPage(r))}),d(1),o()}if(i&2){let e=t.$implicit,n=s(3);M(e===n.page?"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-green-600 rounded-lg hover:bg-green-700":"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 dark-bg-gray-800 dark-border-gray-600 dark-text-gray-400 dark-hover:bg-gray-700 dark-hover:text-gray-300"),c(),v(" ",e," ")}}function xe(i,t){if(i&1){let e=f();a(0,"div",37)(1,"div",51)(2,"button",52),m("click",function(){g(e);let r=s(2);return p(r.goToPreviousPage())}),x(),a(3,"svg",53),u(4,"path",54),o(),d(5," Previous "),o(),I(6,me,2,3,"button",36,j),b(),a(8,"button",52),m("click",function(){g(e);let r=s(2);return p(r.goToNextPage())}),d(9," Next "),x(),a(10,"svg",55),u(11,"path",56),o()()()()}if(i&2){let e=s(2);c(2),C("disabled",e.page===1),c(4),L(e.getPageNumbers()),c(2),C("disabled",e.page===e.getTotalPages())}}function _e(i,t){if(i&1){let e=f();a(0,"section",1)(1,"div",2)(2,"div",3)(3,"h1",4),d(4," Fresh Cart Products "),o(),a(5,"p",5),d(6," Discover our amazing collection of fresh products with the best quality and prices "),o()(),a(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),x(),a(12,"svg",11),u(13,"path",12),o()(),b(),a(14,"input",13),E("ngModelChange",function(r){g(e);let l=s();return V(l.searchQuery,r)||(l.searchQuery=r),p(r)}),m("input",function(){g(e);let r=s();return p(r.onSearchChange())}),o(),_(15,re,3,0,"button",14),o()(),a(16,"div",15)(17,"div",9)(18,"select",16),E("ngModelChange",function(r){g(e);let l=s();return V(l.sortBy,r)||(l.sortBy=r),p(r)}),m("change",function(){g(e);let r=s();return p(r.onSortChange())}),a(19,"option",17),d(20,"Sort by"),o(),a(21,"option",18),d(22,"Price: Low to High"),o(),a(23,"option",19),d(24,"Price: High to Low"),o(),a(25,"option",20),d(26,"Highest Rated"),o(),a(27,"option",21),d(28,"Name: A to Z"),o(),a(29,"option",22),d(30,"Name: Z to A"),o()(),a(31,"div",23),x(),a(32,"svg",11),u(33,"path",24),o()()(),b(),a(34,"div",25)(35,"button",26),m("click",function(){g(e);let r=s();return p(r.setViewMode("grid"))}),x(),a(36,"svg",27),u(37,"path",28),o()(),b(),a(38,"button",26),m("click",function(){g(e);let r=s();return p(r.setViewMode("list"))}),x(),a(39,"svg",27),u(40,"path",29),o()()()()(),_(41,se,3,2,"div",30),o(),b(),a(42,"div",31)(43,"div",32),_(44,le,1,2)(45,ce,1,2),o(),a(46,"div",33),d(47),o()(),_(48,de,2,0,"div",34)(49,ge,9,0,"div",35)(50,ue,3,2,"div",36),_(51,xe,12,2,"div",37),o()()}if(i&2){let e=s();c(14),T("ngModel",e.searchQuery),c(),h(e.searchQuery?15:-1),c(3),T("ngModel",e.sortBy),c(17),y("bg-green-600",e.viewMode==="grid")("text-white",e.viewMode==="grid")("text-gray-600",e.viewMode!=="grid"),c(3),y("bg-green-600",e.viewMode==="list")("text-white",e.viewMode==="list")("text-gray-600",e.viewMode!=="list"),c(3),h(e.searchQuery||e.sortBy?41:-1),c(3),h(e.searchQuery?44:45),c(3),P(" Page ",e.page," of ",e.getTotalPages()," "),c(),h(e.isLoading?48:e.filteredProducts.length===0&&e.searchQuery?49:50),c(3),h(e.totalItems>e.itemsPerPage&&!e.isLoading&&e.filteredProducts.length>0?51:-1)}}var ee=class i{productsServices=z(Y);page=1;totalItems=0;itemsPerPage=12;isLoading=!1;products=null;filteredProducts=[];searchQuery="";sortBy="";viewMode="grid";searchSubject=new B;ngOnInit(){this.getProducts(),this.setupSearchDebounce()}setupSearchDebounce(){this.searchSubject.pipe(N(300),A()).subscribe(()=>{this.filterProducts()})}getProducts(){this.isLoading=!0;let t={page:this.page,limit:this.itemsPerPage};this.searchQuery.trim()&&(t.search=this.searchQuery.trim()),this.sortBy&&(t.sort=this.sortBy),this.productsServices.getProducts(t).subscribe(e=>{this.products=e.data,this.totalItems=e.results,this.itemsPerPage=e.metadata.limit,this.filteredProducts=[...this.products],this.isLoading=!1})}pageChanged(t){this.page=t,this.getProducts()}getTotalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}getPageNumbers(){let t=this.getTotalPages(),e=this.page,n=5,r=Math.max(1,e-Math.floor(n/2)),l=Math.min(t,r+n-1);l-r+1<n&&(r=Math.max(1,l-n+1));let D=[];for(let k=r;k<=l;k++)D.push(k);return D}goToPage(t){t>=1&&t<=this.getTotalPages()&&(this.page=t,this.getProducts())}goToPreviousPage(){this.page>1&&(this.page--,this.getProducts())}goToNextPage(){this.page<this.getTotalPages()&&(this.page++,this.getProducts())}onSearchChange(){this.searchSubject.next(this.searchQuery)}clearSearch(){this.searchQuery="",this.page=1,this.getProducts()}onSortChange(){this.page=1,this.getProducts()}clearSort(){this.sortBy="",this.page=1,this.getProducts()}getSortLabel(t){return{"price-asc":"Price: Low to High","price-desc":"Price: High to Low","rating-desc":"Highest Rated","name-asc":"Name: A to Z","name-desc":"Name: Z to A"}[t]||t}setViewMode(t){this.viewMode=t}filterProducts(){if(!this.products)return;let t=[...this.products];if(this.searchQuery.trim()){let e=this.searchQuery.toLowerCase().trim();t=t.filter(n=>n.title.toLowerCase().includes(e)||n.description.toLowerCase().includes(e)||n.category.name.toLowerCase().includes(e)||n.brand.name.toLowerCase().includes(e))}this.sortBy&&(t=this.sortProducts(t,this.sortBy)),this.filteredProducts=t}sortProducts(t,e){let n=[...t];switch(e){case"price-asc":return n.sort((r,l)=>r.price-l.price);case"price-desc":return n.sort((r,l)=>l.price-r.price);case"rating-desc":return n.sort((r,l)=>l.ratingsAverage-r.ratingsAverage);case"name-asc":return n.sort((r,l)=>r.title.localeCompare(l.title));case"name-desc":return n.sort((r,l)=>l.title.localeCompare(r.title));default:return n}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-products-home"]],decls:2,vars:1,consts:[["type","default","size","lg","color","info","message","Be patient...",3,"overlay","showMessage"],[1,"min-h-screen","bg-gray-50","dark-bg-gray-900","py-8"],[1,"container","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-12"],[1,"text-4xl","font-bold","text-gray-900","dark-text-white","mb-4"],[1,"text-lg","text-gray-600","dark-text-gray-400","max-w-2xl","mx-auto"],[1,"bg-white","dark-bg-gray-800","rounded-2xl","shadow-lg","p-6","mb-8"],[1,"flex","flex-col","lg:flex-row","gap-6"],[1,"flex-1"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search products by name, category, or brand...",1,"w-full","pl-10","pr-4","py-3","border","border-gray-300","dark-border-gray-600","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-green-500","dark-bg-gray-700","dark-text-white","transition-colors","duration-200",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600","dark-hover:text-gray-300"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"appearance-none","bg-white","dark-bg-gray-700","border","border-gray-300","dark-border-gray-600","rounded-lg","px-4","py-3","pr-8","text-gray-900","dark-text-white","focus:ring-2","focus:ring-green-500","focus:border-green-500",3,"ngModelChange","change","ngModel"],["value",""],["value","price-asc"],["value","price-desc"],["value","rating-desc"],["value","name-asc"],["value","name-desc"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-2","pointer-events-none"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"flex","border","border-gray-300","dark-border-gray-600","rounded-lg","overflow-hidden"],[1,"px-4","py-3","hover:bg-gray-100","dark-hover:bg-gray-700","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],[1,"mt-4","flex","flex-wrap","gap-2"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","mb-6"],[1,"text-sm","text-gray-600","dark-text-gray-400","mb-2","sm:mb-0"],[1,"text-sm","text-gray-500","dark-text-gray-500"],[1,"flex","justify-center","items-center","py-12"],[1,"text-center","py-12"],[3,"class"],[1,"flex","justify-center","items-center","mt-12"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600","dark-hover:text-gray-300",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","bg-green-100","text-green-800","dark-bg-green-900","dark-text-green-200"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","bg-blue-100","text-blue-800","dark-bg-blue-900","dark-text-blue-200"],[1,"ml-2","text-green-600","hover:text-green-800",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4"],[1,"ml-2","text-blue-600","hover:text-blue-800",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-24","w-24","text-gray-400","dark-text-gray-600","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"text-lg","font-medium","text-gray-900","dark-text-white","mb-2"],[1,"text-gray-500","dark-text-gray-400","mb-4"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-green-600","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"],[3,"product","viewMode"],[1,"flex","items-center","space-x-2"],[1,"px-4","py-2","text-sm","font-medium","text-gray-500","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","hover:text-gray-700","disabled:opacity-50","disabled:cursor-not-allowed","dark-bg-gray-800","dark-border-gray-600","dark-text-gray-400","dark-hover:bg-gray-700","dark-hover:text-gray-300",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[3,"click"]],template:function(e,n){e&1&&_(0,ne,1,2,"app-loading-spinner",0)(1,_e,52,21,"section",1),e&2&&h(n.products?1:0)},dependencies:[X,J,K,Z,W,q,Q,$,G,U,w],styles:[".pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;margin:20px 0;flex-wrap:wrap}.pagination-btn[_ngcontent-%COMP%]{display:inline-block;padding:8px 12px;text-decoration:none;border:1px solid #ddd;color:#333;background-color:#fff;border-radius:4px;transition:all .3s ease;min-width:40px;text-align:center;cursor:pointer;font-size:14px;font-weight:500}.pagination-btn[_ngcontent-%COMP%]:hover:not(.disabled){background-color:#f5f5f5;border-color:#007bff;color:#007bff;transform:translateY(-1px)}.pagination-btn.current[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff;font-weight:700;box-shadow:0 2px 4px #007bff4d}.pagination-btn.disabled[_ngcontent-%COMP%]{color:#ccc;background-color:#f8f9fa;border-color:#ddd;cursor:not-allowed;opacity:.6}.pagination-btn.disabled[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;border-color:#ddd;color:#ccc;transform:none}@media (max-width: 768px){.pagination[_ngcontent-%COMP%]{gap:4px}.pagination-btn[_ngcontent-%COMP%]{padding:6px 8px;font-size:12px;min-width:32px}}@media (max-width: 480px){.pagination-btn[_ngcontent-%COMP%]{padding:4px 6px;font-size:11px;min-width:28px}}"]})};export{ee as ProductsHome};
